<html>

<head>
    <meta charset="utf-8" />
    <title>Learn React </title>
</head>

<body>
    <div id="app"></div>
    <script src="bower_components/react/react.js"></script>
    <script src="bower_components/react/react-dom.js"></script>
    <script src="bower_components/babel/browser.js"></script>
    
<div id="container">
    <!-- This element's contents will be replaced with your component. -->
</div>
    <script type="text/babel">
        var MessageBox = React.createClass({ 
            getInitialState: function(){
                return {
                    isVisible: true,
                    subMessages: [
                    'java',
                    'ruby',
                    'js'
                    ]
                }
            } ,
            render: function() {
                var style = {
                    display: this.state.isVisible ? 'block' : 'none'
                }
                return (
                    <div>
                        <h1 style={style}>{ this.props.titleMessage }</h1>
                        <Submessage messages={this.state.subMessages} />
                    </div>
                )
            }
        });

        var Submessage = React.createClass({
            propTypes: {
                messages: React.PropTypes.array.isRequired
            },
            getDefaultProps: function(){
                return {
                    messages: ['默认']
                }
            },
            render: function() {
                var msgs = [];
                console.log(this.props)
                this.props.messages.forEach(function(msg, index){
                    msgs.push(
                        <p key={index}>photofinish: {msg}</p>
                    )
                 });
                return (<div>{msgs}</div>)
            }
        })
        var title = '来自props';
        ReactDOM.render(<MessageBox titleMessage={title} />, document.getElementById('app'))
    </script>
</body>

</html>